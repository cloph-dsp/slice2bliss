<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Permissions-Policy" content="interest-cohort=()">
  <title>Slice2Bliss</title>
  <!-- Preload critical assets -->
  <link rel="modulepreload" href="/slice2bliss/assets/vendor-react.js">
  <link rel="modulepreload" href="/slice2bliss/assets/vendor-audio.js">
  <link rel="preload" href="/slice2bliss/styles/main.css" as="style">
  <link rel="stylesheet" href="/slice2bliss/styles/main.css">
  <!-- Add cache control hints -->
  <meta http-equiv="Cache-Control" content="max-age=31536000, immutable">
  <!-- GitHub Pages spa redirect handling -->
  <script type="text/javascript">
    // Single Page Apps for GitHub Pages
    // https://github.com/rafgraph/spa-github-pages
    (function(l) {
      if (l.search[1] === 'p') {
        var decoded = l.search.slice(1).split('&').map(function(s) { 
          return s.replace(/~and~/g, '&')
        }).join('?');
        window.history.replaceState(null, null,
            l.pathname + decoded.replace('p=', '') + l.hash
        );
      }
    }(window.location))
  </script>
</head>
<body>
  <div id="root"></div>
  <!-- Use absolute paths for GitHub Pages -->
  <script type="module" src="/slice2bliss/assets/main.js"></script>
  <!-- Add performance monitoring -->
  <script>
    // Enhanced error and performance monitoring
    window.addEventListener('error', function(e) {
      if (e.target.tagName === 'SCRIPT' || e.target.tagName === 'LINK') {
        console.error('Resource failed to load:', e.target.src || e.target.href);
      }
    }, true);

    // Monitor and log performance metrics
    if (window.performance && window.performance.getEntriesByType) {
      window.addEventListener('load', function() {
        setTimeout(() => {
          const navigation = performance.getEntriesByType('navigation')[0];
          const resources = performance.getEntriesByType('resource');
          
          console.debug('Page Load Metrics:', {
            loadTime: navigation.loadEventEnd - navigation.startTime,
            domContentLoaded: navigation.domContentLoadedEventEnd - navigation.startTime,
            resourceCount: resources.length
          });
        }, 0);
      });
    }
  </script>
</body>
</html>
